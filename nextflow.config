// def version = file("${projectDir}/VERSION").exists() ? file("${projectDir}/VERSION").text.trim() : "Unknown"

manifest {
    name            = 'nf-metgenomics-piplines'
    author          = 'Olm Lab'
    homePage        = 'https://github.com/OlmLab/bioinformatics_pipelines'
    description     = 'Genome resolved metagenomics'
    mainScript      = 'pipelines.nff'
    nextflowVersion = '!>=21.10.3'
    // version         = "${version}"
}

/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Default config options for all compute environments
----------------------------------------------------------------------------------------
*/

params {
    // Global Parameters
    help = false
    output_dir = "./output"    // (string) Directory for analysis output

    // Sylph Subworkflow Parameters
    input_type = 'local'        // Make this "sra" if getting reads from SRA
    input_file = null           // Input file for analysis
    sylph_db = "http://faust.compbio.cs.cmu.edu/sylph-stuff/gtdb-r220-c200-dbv1.syldb"
}

process {
    stageInMode = 'copy'        // Needed for remote filesystems

    withName:"estimate_abundance_sylph"{
        memory = '15 GB'
        time = '5h'
        cpus = 8
        container="docker://parsaghadermazi/roadmap6:amd64"
    }
} 